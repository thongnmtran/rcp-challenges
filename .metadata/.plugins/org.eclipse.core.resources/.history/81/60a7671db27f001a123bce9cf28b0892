package com.kmstechnology.todolist.app.handlers;

import java.util.List;

import org.eclipse.swt.SWT;
import org.eclipse.swt.events.KeyEvent;
import org.eclipse.swt.events.KeyListener;
import org.eclipse.swt.layout.GridData;
import org.eclipse.swt.layout.GridLayout;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Label;
import org.eclipse.swt.widgets.Text;

import com.kmstechnology.todolist.app.parts.TodoAppPart;

public class TodoEnterListener implements KeyListener{

	private final Text textTodo;
	private final Composite parentComposite;

	public TodoEnterListener(Text textTodo, Composite parentComposite) {
		super();
		this.textTodo = textTodo;
		this.parentComposite = parentComposite;
	}

	@Override
	public void keyPressed(KeyEvent e) {
		if (e.keyCode==SWT.CR || e.keyCode==SWT.KEYPAD_CR){
			TodoAppPart.addTodo(this.textTodo.getText());
		}
		
	}

	@Override
	public void keyReleased(KeyEvent e) {
		Composite elementRowLayout = new Composite(parentComposite, SWT.BORDER);
		elementRowLayout.setLayout(new GridLayout(2, false));
		elementRowLayout.setLayoutData(new GridData(GridData.FILL_HORIZONTAL));
		Label label = new Label(elementRowLayout, SWT.NONE);
		label.setText(todo.getText());
		label.setLayoutData(new GridData(GridData.FILL_HORIZONTAL));
		Button button = new Button(elementRowLayout, SWT.NONE);
		button.setText("Delete");
	}
	
	
}
